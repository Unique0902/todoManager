# 🗂️ DB 스키마 설계/마이그레이션 로드맵

## 1. 단계별 전체 흐름

| 순서 | 주요 작업                | 산출물/목표                      |
|------|--------------------------|----------------------------------|
| 1    | 요구사항 분석/핵심 엔터티 도출 | 엔터티 목록, 주요 필드 정의         |
| 2    | ERD(엔터티 관계도) 설계      | ERD 다이어그램, 관계 설명           |
| 3    | SQLModel 데이터 모델 정의   | Python 모델 코드, 관계/제약조건 명시 |
| 4    | Alembic 마이그레이션 적용   | 마이그레이션 파일, DB 구조 반영      |
| 5    | 샘플 데이터/초기화 스크립트 | 개발/테스트용 데이터                |
| 6    | 검증 및 피드백             | 실제 DB 구조/관계 검증, 수정사항 도출 |

---

## 2. 세부 단계별 체크리스트

### 1) 요구사항 분석/핵심 엔터티 도출
- 정책 문서 기반 주요 엔터티/필드 목록화
- 각 엔터티별 역할/관계 정리

### 2) ERD(엔터티 관계도) 설계
- 엔터티 간 부모-자식, 참조 관계 시각화
- 마일스톤, 루틴, 감정일기 등 특수 관계 명확화
- 마크다운 표/다이어그램으로 정리

### 3) SQLModel 데이터 모델 정의
- 각 엔터티를 Python 클래스로 정의
- 관계(OneToMany, ForeignKey 등) 명확히 구현
- 필수/옵션 필드, 제약조건 반영

### 4) Alembic 마이그레이션 적용
- alembic init, revision --autogenerate 등으로 마이그레이션 파일 생성
- DB에 실제 구조 반영 및 이력 관리

### 5) 샘플 데이터/초기화 스크립트
- 개발/테스트용 기본 데이터 준비
- 데이터 삽입 스크립트 작성

### 6) 검증 및 피드백
- 실제 DB 구조/관계 테스트
- ERD/모델/마이그레이션 일치 여부 확인
- 피드백 반영 및 수정

---

## 3. 산출물 정리
- ERD 다이어그램/표 (`docs/erd.md` 등)
- SQLModel 모델 코드 (`backend/app/models/`)
- Alembic 마이그레이션 파일 (`backend/migrations/`)
- 샘플 데이터/초기화 스크립트 (`backend/app/seed.py` 등)
- 검증 결과/피드백 (`docs/db_schema_review.md` 등)

---

> 이 문서는 todoManager DB 스키마 설계/마이그레이션 단계의 체계적 진행을 위한 로드맵입니다. 각 단계별 산출물과 체크리스트를 참고하여 순차적으로 진행하세요. 